<template>
  <div class="home-main-container">
    <p class="mb font">–≠—Ç–æ –ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—á–∫–∞ –ú—É—Ä—Ä–µ–Ω–∞</p>
    <small>–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ú—É—Ä—Ä–µ–Ω–∞</small>
    <div v-if="tanochkaUrl">
      <img class="tanochka" alt="tanochka" :src="tanochkaUrl" />
    </div>
    <el-button class="murr-button__danger" @click="logout">
      –í—ã–π—Ç–∏
    </el-button>
  </div>
</template>

<script>
import { mapActions } from "vuex";

export default {
  data: () => ({
    tanochkaUrl: null,
  }),
  async created() {
    this.tanochkaUrl = await this.$store.dispatch("fetchTanochka");
  },
  methods: {
    ...mapActions({
      notification: "popUpMessage",
    }),
    async logout() {
      this.notification({
        message: "–¢—ã —Ä–∞–∑–ª–æ–≥–∏–Ω–∏–ª—Å—è üò±",
        type: "success",
      });

      await this.$store.dispatch("logout");
      await this.$router.push("/");
    },
  },
};
</script>

<style scoped>

.tanochka {
  max-width: 300px;
  margin: 1rem;
  border-radius: 5px;
  border: #ad00ff 1px solid;
}

.font {
  font-size: 1.2rem;
}
</style>
